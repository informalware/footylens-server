package com.informalware.footylens.data

import kotlinx.serialization.Serializable
import org.ktorm.entity.Entity
import org.ktorm.schema.*

import java.util.Date

/**
 * Table do KTorm para uma partida.
 * */
object Matches : Table<Match>("Matches") {
    val id = int("id").primaryKey().bindTo { it.id }
    val home = int("home").bindTo { it.home }
    val visitor = int("visitor").bindTo { it.visitor }
    val home_scoreboard = int("home_scoreboard").bindTo { it.scoreboard.first }
    val visitor_scoreboard = int("visitor_scoreboard").bindTo { it.scoreboard.second }
}


/**
 * Objeto que representa uma partida, seja armazenada no banco de dados ou
 * recebida de uma requisição da API.
 * @property id Identificador único da partida.
 * @property home Nome do time mandante.
 * @property visitor Nome do time visitante.
 * @property scoreboard Estado atual da partida.
 * @property stats Estado atual da partida.
 * */
@Serializable
sealed interface Match : Entity<Match> {
    val id: Int
    val home: Int
    val visitor: Int
    val scoreboard: Pair<Int, Int>
}


