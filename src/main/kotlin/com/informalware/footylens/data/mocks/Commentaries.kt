package com.informalware.footylens.data.mocks

import com.informalware.footylens.data.Commentary
import com.informalware.footylens.data.CommentaryRegistryRequest
import java.util.Calendar

private val Commentaries: MutableList<Commentary> = mutableListOf()

/**
 * Dada uma review, obtem a lista de todos os comentários
 * @param id id da review
 * @return lista de comentários relacionados a essa review
 * */
fun getCommentariesFromReview(id: UInt): List<Commentary> = Commentaries.filter { it.reviewId == id }

fun getCommentaryById(id: UInt): Commentary? = Commentaries.filter { it.id == id }.getOrNull(0)

fun registryCommentary(commentaryReq: CommentaryRegistryRequest) {
    val commentary = Commentary(
        Commentaries.size.toUInt(),
        commentaryReq.reviewId,
        commentaryReq.userId,
        commentaryReq.commentary,
        Calendar.Builder().build().time,
        Calendar.Builder().build().time)

    Commentaries.add(commentary)
}